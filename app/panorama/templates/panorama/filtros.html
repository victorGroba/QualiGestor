{% extends "base_painel.html" %}

{% block title %}Filtros - Painel Estilo Panorama{% endblock %}

{% block head %}
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <h2 class="fw-bold">Filtros Avançados</h2>
    <p class="text-muted">Explore os painéis disponíveis e selecione os filtros desejados.</p>
  </div>
  <button class="btn btn-primary" onclick="openModal()">
    <i class="fas fa-plus me-1"></i> Adicionar Painel
  </button>
</div>

<div class="accordion" id="painelAccordion">

  <!-- OVERVIEW -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOverview">
      <button class="accordion-button" type="button" data-bs-toggle="collapse"
        data-bs-target="#collapseOverview" aria-expanded="true" aria-controls="collapseOverview">
        <i class="fas fa-eye me-2 text-primary"></i> Overview
      </button>
    </h2>
    <div id="collapseOverview" class="accordion-collapse collapse show" aria-labelledby="headingOverview"
      data-bs-parent="#painelAccordion">
      <div class="accordion-body">
        <ul class="list-unstyled ps-3">
          <li><a href="#">Overview 2020</a></li>
          <li><a href="#">Overview 2021</a></li>
          <li><a href="#">Overview 2022</a></li>
          <li><a href="#">Overview 2023</a></li>
          <li><a href="#">Overview 2024</a></li>
          <li><a href="#">Overview 2025</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- GELO -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingGelo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#collapseGelo" aria-expanded="false" aria-controls="collapseGelo">
        <i class="fas fa-snowflake me-2 text-info"></i> GELO
      </button>
    </h2>
    <div id="collapseGelo" class="accordion-collapse collapse" aria-labelledby="headingGelo"
      data-bs-parent="#painelAccordion">
      <div class="accordion-body">
        <ul class="list-unstyled ps-3">
          <li><a href="#">Torre de Refrigerante</a></li>
          <li><a href="#">Gelo - Pool</a></li>
          <li><a href="#">Gelo - Bin Mc Café</a></li>
          <li><a href="#">Gelo Bin - Torre de bebidas</a></li>
          <li><a href="#">Máquina de Gelo</a></li>
          <li><a href="#">Água de Torneira - Back Room</a></li>
          <li><a href="#">Torre de Suco</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- OLD -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOld">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#collapseOld" aria-expanded="false" aria-controls="collapseOld">
        <i class="fas fa-archive me-2 text-secondary"></i> Old
      </button>
    </h2>
    <div id="collapseOld" class="accordion-collapse collapse" aria-labelledby="headingOld"
      data-bs-parent="#painelAccordion">
      <div class="accordion-body">
        <ul class="list-unstyled ps-3">
          <li><a href="#">Histórico</a></li>
          <li><a href="#">Arquivos</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- PAINEL GR -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingPainelGR">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#collapsePainelGR" aria-expanded="false" aria-controls="collapsePainelGR">
        <i class="fas fa-layer-group me-2 text-success"></i> PAINEL GR
      </button>
    </h2>
    <div id="collapsePainelGR" class="accordion-collapse collapse" aria-labelledby="headingPainelGR"
      data-bs-parent="#painelAccordion">
      <div class="accordion-body">
        <ul class="list-unstyled ps-3">
          <li><a href="#">Indicadores</a></li>
          <li><a href="#">Métricas</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Adicionar Painel -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <div class="modal-header">
      <h5 class="modal-title">Novo Painel</h5>
      <button class="btn-close" onclick="closeModal()"></button>
    </div>
    <div class="modal-tabs d-flex mb-3">
      <button class="tab active" onclick="switchTab(event, 'geral')">Geral</button>
      <button class="tab" onclick="switchTab(event, 'relatorio')">Relatório</button>
      <button class="tab" onclick="switchTab(event, 'pdf')">PDF</button>
    </div>
    <div class="modal-content">
      <div class="tab-content active" id="geral">
        <label>Nome do painel:</label>
        <input type="text" class="form-control mb-2" placeholder="Digite o nome">
        <label>Acesso:</label>
        <select class="form-select mb-2">
          <option>Público</option>
          <option>Privado</option>
        </select>
        <label>Permissões:</label>
        <input type="text" class="form-control" placeholder="Ex: Supervisores, Gerentes">
      </div>
      <div class="tab-content" id="relatorio">
        <label>Tipo de Relatório:</label>
        <input type="text" class="form-control mb-2" placeholder="Ex: Consolidado, Diário">
        <label>Frequência:</label>
        <input type="text" class="form-control" placeholder="Ex: Semanal, Mensal">
      </div>
      <div class="tab-content" id="pdf">
        <label>Formato do PDF:</label>
        <select class="form-select">
          <option>Horizontal</option>
          <option>Vertical</option>
        </select>
      </div>
    </div>
    <div class="modal-footer d-flex justify-content-end gap-2 mt-3">
      <button class="btn btn-secondary" onclick="closeModal()">Cancelar</button>
      <button class="btn btn-success">Salvar</button>
    </div>
  </div>
</div>

<!-- Scripts do Modal -->
<script>
  function openModal() {
    document.getElementById('modalOverlay').style.display = 'flex';
  }

  function closeModal() {
    document.getElementById('modalOverlay').style.display = 'none';
  }

  function switchTab(event, tabId) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    event.currentTarget.classList.add('active');
    document.getElementById(tabId).classList.add('active');
  }
</script>
{% endblock %}
