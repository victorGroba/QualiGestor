2025-12-17 14:47:20,590 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:47:20,599 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:47:20,626 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:47:23,623 ERROR: Erro ao carregar usuário 1: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.id = %(pk_1)s]
[parameters: {'pk_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405) [in /var/www/qualigestor/QualiGestor/app/__init__.py:212]
2025-12-17 14:47:23,692 ERROR: Erro ao carregar usuário 1: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.id = %(pk_1)s]
[parameters: {'pk_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405) [in /var/www/qualigestor/QualiGestor/app/__init__.py:212]
2025-12-17 14:47:26,498 ERROR: Exception on /login [POST] [in /var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py:1414]
Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "usuario" does not exist
LINE 2: FROM usuario 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/app/auth/routes.py", line 42, in login
    usuario = Usuario.query.filter_by(email=email).first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'admin@admin.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-17 14:47:41,997 ERROR: Erro ao carregar usuário 1: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.id = %(pk_1)s]
[parameters: {'pk_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405) [in /var/www/qualigestor/QualiGestor/app/__init__.py:212]
2025-12-17 14:47:42,058 ERROR: Erro ao carregar usuário 1: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.id = %(pk_1)s]
[parameters: {'pk_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405) [in /var/www/qualigestor/QualiGestor/app/__init__.py:212]
2025-12-17 14:47:45,087 ERROR: Exception on /login [POST] [in /var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py:1414]
Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "usuario" does not exist
LINE 2: FROM usuario 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/app/auth/routes.py", line 42, in login
    usuario = Usuario.query.filter_by(email=email).first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'admin@admin.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-17 14:48:26,124 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:48:26,177 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:48:26,267 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:48:31,268 ERROR: Exception on /login [POST] [in /var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py:1414]
Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "usuario" does not exist
LINE 2: FROM usuario 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/app/auth/routes.py", line 42, in login
    usuario = Usuario.query.filter_by(email=email).first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'admin@admin.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-17 14:48:32,786 ERROR: Erro ao carregar usuário 1: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.id = %(pk_1)s]
[parameters: {'pk_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405) [in /var/www/qualigestor/QualiGestor/app/__init__.py:212]
2025-12-17 14:48:35,213 ERROR: Exception on /login [POST] [in /var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py:1414]
Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "usuario" does not exist
LINE 2: FROM usuario 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/app/auth/routes.py", line 42, in login
    usuario = Usuario.query.filter_by(email=email).first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'admin@admin.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-17 14:50:30,094 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:51:58,636 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:52:26,913 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:52:27,620 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:52:39,058 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:52:52,099 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:52:52,118 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:52:52,179 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:52:58,243 ERROR: Erro ao carregar usuário 1: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.id = %(pk_1)s]
[parameters: {'pk_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405) [in /var/www/qualigestor/QualiGestor/app/__init__.py:212]
2025-12-17 14:53:00,926 ERROR: Exception on /login [POST] [in /var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py:1414]
Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "usuario" does not exist
LINE 2: FROM usuario 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/app/auth/routes.py", line 42, in login
    usuario = Usuario.query.filter_by(email=email).first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/var/www/qualigestor/QualiGestor/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "usuario" does not exist
LINE 2: FROM usuario 
             ^

[SQL: SELECT usuario.id AS usuario_id, usuario.nome AS usuario_nome, usuario.email AS usuario_email, usuario.senha_hash AS usuario_senha_hash, usuario.telefone AS usuario_telefone, usuario.tipo AS usuario_tipo, usuario.ativo AS usuario_ativo, usuario.ultimo_acesso AS usuario_ultimo_acesso, usuario.cliente_id AS usuario_cliente_id, usuario.grupo_id AS usuario_grupo_id, usuario.avaliado_id AS usuario_avaliado_id, usuario.criado_em AS usuario_criado_em 
FROM usuario 
WHERE usuario.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'admin@admin.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-17 14:55:26,898 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:55:27,545 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:55:36,921 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:55:43,633 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:56:18,481 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:56:18,594 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:56:18,623 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 14:59:55,588 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 15:02:48,418 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 15:02:53,775 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 15:06:12,205 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-17 15:07:45,153 INFO: --- Rota /salvar-resposta chamada para app ID: 1 --- [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3023]
2025-12-17 15:07:45,166 INFO: [Salvar Resposta 1] Dados recebidos: Pergunta ID=1, Resposta='Sim', Observacao='' [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3041]
2025-12-17 15:07:45,168 INFO: [Salvar Resposta 1] Pergunta encontrada: ID=1, Texto='teste 1...', Tipo=TipoResposta.SIM_NAO_NA [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3052]
2025-12-17 15:07:45,169 INFO: [Salvar Resposta 1] Tipo normalizado: SIM_NAO_NA [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3058]
2025-12-17 15:07:45,172 INFO: [Salvar Resposta 1] Criando nova entrada RespostaPergunta. [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3066]
2025-12-17 15:07:45,172 INFO: [Salvar Resposta 1] Buscando OpcaoPergunta para pergunta_id=1 e texto='Sim' [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3081]
2025-12-17 15:07:45,174 INFO: [Salvar Resposta 1] OpcaoPergunta encontrada: ID=1, Valor=1.0, Texto='Sim' [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3087]
2025-12-17 15:07:45,174 INFO: [Salvar Resposta 1] Pontos calculados: 1.0 (valor) * 1 (peso) = 1.0 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3091]
2025-12-17 15:07:45,175 INFO: [Salvar Resposta 1] Preparando para salvar no DB: Resposta='Sim', Obs='', Pontos=1.0 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3115]
2025-12-17 15:07:45,179 INFO: [Salvar Resposta 1] Flush bem-sucedido. ID da Resposta (novo ou existente): 1 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3119]
2025-12-17 15:07:45,180 INFO: [Salvar Resposta 1] Commit bem-sucedido! [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3121]
2025-12-17 15:07:45,182 INFO: --- Rota /salvar-resposta finalizada para app ID: 1 --- [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3135]
2025-12-17 15:07:46,522 INFO: --- Rota /salvar-resposta chamada para app ID: 1 --- [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3023]
2025-12-17 15:07:46,525 INFO: [Salvar Resposta 1] Dados recebidos: Pergunta ID=2, Resposta='Não', Observacao='' [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3041]
2025-12-17 15:07:46,526 INFO: [Salvar Resposta 1] Pergunta encontrada: ID=2, Texto='teste 2...', Tipo=TipoResposta.SIM_NAO_NA [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3052]
2025-12-17 15:07:46,526 INFO: [Salvar Resposta 1] Tipo normalizado: SIM_NAO_NA [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3058]
2025-12-17 15:07:46,529 INFO: [Salvar Resposta 1] Criando nova entrada RespostaPergunta. [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3066]
2025-12-17 15:07:46,529 INFO: [Salvar Resposta 1] Buscando OpcaoPergunta para pergunta_id=2 e texto='Não' [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3081]
2025-12-17 15:07:46,532 INFO: [Salvar Resposta 1] OpcaoPergunta encontrada: ID=5, Valor=0.0, Texto='Não' [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3087]
2025-12-17 15:07:46,532 INFO: [Salvar Resposta 1] Pontos calculados: 0.0 (valor) * 1 (peso) = 0.0 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3091]
2025-12-17 15:07:46,532 INFO: [Salvar Resposta 1] Preparando para salvar no DB: Resposta='Não', Obs='', Pontos=0.0 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3115]
2025-12-17 15:07:46,535 INFO: [Salvar Resposta 1] Flush bem-sucedido. ID da Resposta (novo ou existente): 2 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3119]
2025-12-17 15:07:46,536 INFO: [Salvar Resposta 1] Commit bem-sucedido! [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3121]
2025-12-17 15:07:46,538 INFO: --- Rota /salvar-resposta finalizada para app ID: 1 --- [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:3135]
2025-12-17 15:07:50,351 INFO: Recebida requisição POST para upload_foto_resposta ID: 2 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:4168]
2025-12-17 15:07:50,361 INFO: Foto salva com sucesso em: /var/www/qualigestor/QualiGestor/instance/uploads/fotos_respostas/resposta_2_fee8658b3733.png para resposta 2 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:4229]
2025-12-17 15:07:50,364 INFO: Caminho da foto 'resposta_2_fee8658b3733.png' salvo no BD para resposta 2 [in /var/www/qualigestor/QualiGestor/app/cli/routes.py:4249]
2025-12-18 16:18:14,587 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-18 16:18:15,001 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-18 16:18:15,008 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-19 12:53:51,879 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-19 12:57:25,380 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
2025-12-19 12:57:25,992 INFO: QualiGestor iniciado com sucesso. [in /var/www/qualigestor/QualiGestor/app/__init__.py:277]
